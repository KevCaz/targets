<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Static branching | The targets R Package User Manual</title>
  <meta name="description" content="In-depth discussion of the major functionality of targets." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Static branching | The targets R Package User Manual" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://wlandau.github.io/targets-manual" />
  <meta property="og:image" content="https://wlandau.github.io/targets-manual/man/figures/logo.png" />
  <meta property="og:description" content="In-depth discussion of the major functionality of targets." />
  <meta name="github-repo" content="wlandau/targets-manual" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Static branching | The targets R Package User Manual" />
  
  <meta name="twitter:description" content="In-depth discussion of the major functionality of targets." />
  <meta name="twitter:image" content="https://wlandau.github.io/targets-manual/man/figures/logo.png" />

<meta name="author" content="Will Landau" />
<meta name="author" content="Copyright Eli Lilly and Company" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="man/figures/apple-touch-icon.png" />
  <link rel="shortcut icon" href="man/figures/favicon.ico" type="image/x-icon" />
<link rel="prev" href="dynamic.html"/>
<link rel="next" href="hpc.html"/>
<script src="libs/header-attrs-2.4/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<link href="libs/vis-4.20.1/vis.css" rel="stylesheet" />
<script src="libs/vis-4.20.1/vis.min.js"></script>
<script src="libs/visNetwork-binding-2.0.9/visNetwork.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-150843595-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-150843595-1');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#motivation"><i class="fa fa-check"></i><b>1.1</b> Motivation</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#pipeline-toolkits"><i class="fa fa-check"></i><b>1.2</b> Pipeline toolkits</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#the-targets-package"><i class="fa fa-check"></i><b>1.3</b> The <code>targets</code> package</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#what-about-drake"><i class="fa fa-check"></i><b>1.4</b> What about <code>drake</code>?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="walkthrough.html"><a href="walkthrough.html"><i class="fa fa-check"></i><b>2</b> Walkthrough</a>
<ul>
<li class="chapter" data-level="2.1" data-path="walkthrough.html"><a href="walkthrough.html#goal-of-the-analysis"><i class="fa fa-check"></i><b>2.1</b> Goal of the analysis</a></li>
<li class="chapter" data-level="2.2" data-path="walkthrough.html"><a href="walkthrough.html#file-structure"><i class="fa fa-check"></i><b>2.2</b> File structure</a></li>
<li class="chapter" data-level="2.3" data-path="walkthrough.html"><a href="walkthrough.html#inspect-the-pipeline"><i class="fa fa-check"></i><b>2.3</b> Inspect the pipeline</a></li>
<li class="chapter" data-level="2.4" data-path="walkthrough.html"><a href="walkthrough.html#run-the-pipeline"><i class="fa fa-check"></i><b>2.4</b> Run the pipeline</a></li>
<li class="chapter" data-level="2.5" data-path="walkthrough.html"><a href="walkthrough.html#changes"><i class="fa fa-check"></i><b>2.5</b> Changes</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="walkthrough.html"><a href="walkthrough.html#change-code"><i class="fa fa-check"></i><b>2.5.1</b> Change code</a></li>
<li class="chapter" data-level="2.5.2" data-path="walkthrough.html"><a href="walkthrough.html#change-data"><i class="fa fa-check"></i><b>2.5.2</b> Change data</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="walkthrough.html"><a href="walkthrough.html#read-your-data"><i class="fa fa-check"></i><b>2.6</b> Read your data</a></li>
<li class="chapter" data-level="2.7" data-path="walkthrough.html"><a href="walkthrough.html#read-metadata"><i class="fa fa-check"></i><b>2.7</b> Read metadata</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="practice.html"><a href="practice.html"><i class="fa fa-check"></i><b>3</b> Best practices for <code>targets</code>-powered projects</a>
<ul>
<li class="chapter" data-level="3.1" data-path="practice.html"><a href="practice.html#a-move-away-from-imperative-scripts"><i class="fa fa-check"></i><b>3.1</b> A move away from imperative scripts</a></li>
<li class="chapter" data-level="3.2" data-path="practice.html"><a href="practice.html#functions"><i class="fa fa-check"></i><b>3.2</b> Functions</a></li>
<li class="chapter" data-level="3.3" data-path="practice.html"><a href="practice.html#targets"><i class="fa fa-check"></i><b>3.3</b> Targets</a></li>
<li class="chapter" data-level="3.4" data-path="practice.html"><a href="practice.html#dependencies"><i class="fa fa-check"></i><b>3.4</b> Dependencies</a></li>
<li class="chapter" data-level="3.5" data-path="practice.html"><a href="practice.html#debugging"><i class="fa fa-check"></i><b>3.5</b> Debugging</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="practice.html"><a href="practice.html#workspaces"><i class="fa fa-check"></i><b>3.5.1</b> Workspaces</a></li>
<li class="chapter" data-level="3.5.2" data-path="practice.html"><a href="practice.html#interactive-debugging"><i class="fa fa-check"></i><b>3.5.2</b> Interactive debugging</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="practice.html"><a href="practice.html#performance"><i class="fa fa-check"></i><b>3.6</b> Performance</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="files.html"><a href="files.html"><i class="fa fa-check"></i><b>4</b> External files and literate programming</a>
<ul>
<li class="chapter" data-level="4.1" data-path="files.html"><a href="files.html#internal-files"><i class="fa fa-check"></i><b>4.1</b> Internal files</a></li>
<li class="chapter" data-level="4.2" data-path="files.html"><a href="files.html#external-input-files"><i class="fa fa-check"></i><b>4.2</b> External input files</a></li>
<li class="chapter" data-level="4.3" data-path="files.html"><a href="files.html#external-output-files"><i class="fa fa-check"></i><b>4.3</b> External output files</a></li>
<li class="chapter" data-level="4.4" data-path="files.html"><a href="files.html#literate-programming"><i class="fa fa-check"></i><b>4.4</b> Literate programming</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="files.html"><a href="files.html#parameterized-r-markdown"><i class="fa fa-check"></i><b>4.4.1</b> Parameterized R Markdown</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dynamic.html"><a href="dynamic.html"><i class="fa fa-check"></i><b>5</b> Dynamic branching</a>
<ul>
<li class="chapter" data-level="5.1" data-path="dynamic.html"><a href="dynamic.html#patterns"><i class="fa fa-check"></i><b>5.1</b> Patterns</a></li>
<li class="chapter" data-level="5.2" data-path="dynamic.html"><a href="dynamic.html#pattern-types"><i class="fa fa-check"></i><b>5.2</b> Pattern types</a></li>
<li class="chapter" data-level="5.3" data-path="dynamic.html"><a href="dynamic.html#dynamic-branching-over-files"><i class="fa fa-check"></i><b>5.3</b> Dynamic branching over files</a></li>
<li class="chapter" data-level="5.4" data-path="dynamic.html"><a href="dynamic.html#iteration"><i class="fa fa-check"></i><b>5.4</b> Iteration</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="dynamic.html"><a href="dynamic.html#vector"><i class="fa fa-check"></i><b>5.4.1</b> Vector</a></li>
<li class="chapter" data-level="5.4.2" data-path="dynamic.html"><a href="dynamic.html#list"><i class="fa fa-check"></i><b>5.4.2</b> List</a></li>
<li class="chapter" data-level="5.4.3" data-path="dynamic.html"><a href="dynamic.html#group"><i class="fa fa-check"></i><b>5.4.3</b> Group</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="dynamic.html"><a href="dynamic.html#batching"><i class="fa fa-check"></i><b>5.5</b> Batching</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="static.html"><a href="static.html"><i class="fa fa-check"></i><b>6</b> Static branching</a>
<ul>
<li class="chapter" data-level="6.1" data-path="static.html"><a href="static.html#map"><i class="fa fa-check"></i><b>6.1</b> Map</a></li>
<li class="chapter" data-level="6.2" data-path="static.html"><a href="static.html#combine"><i class="fa fa-check"></i><b>6.2</b> Combine</a></li>
<li class="chapter" data-level="6.3" data-path="static.html"><a href="static.html#metaprogram"><i class="fa fa-check"></i><b>6.3</b> Metaprogram</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="hpc.html"><a href="hpc.html"><i class="fa fa-check"></i><b>7</b> High-performance computing</a>
<ul>
<li class="chapter" data-level="7.1" data-path="hpc.html"><a href="hpc.html#clustermq"><i class="fa fa-check"></i><b>7.1</b> Clustermq</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="hpc.html"><a href="hpc.html#clustermq-installation"><i class="fa fa-check"></i><b>7.1.1</b> Clustermq installation</a></li>
<li class="chapter" data-level="7.1.2" data-path="hpc.html"><a href="hpc.html#clustermq-locally"><i class="fa fa-check"></i><b>7.1.2</b> Clustermq locally</a></li>
<li class="chapter" data-level="7.1.3" data-path="hpc.html"><a href="hpc.html#clustermq-remotely"><i class="fa fa-check"></i><b>7.1.3</b> Clustermq remotely</a></li>
<li class="chapter" data-level="7.1.4" data-path="hpc.html"><a href="hpc.html#clustermq-configuration"><i class="fa fa-check"></i><b>7.1.4</b> Clustermq configuration</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="hpc.html"><a href="hpc.html#future"><i class="fa fa-check"></i><b>7.2</b> Future</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="hpc.html"><a href="hpc.html#future-installation"><i class="fa fa-check"></i><b>7.2.1</b> Future installation</a></li>
<li class="chapter" data-level="7.2.2" data-path="hpc.html"><a href="hpc.html#future-locally"><i class="fa fa-check"></i><b>7.2.2</b> Future locally</a></li>
<li class="chapter" data-level="7.2.3" data-path="hpc.html"><a href="hpc.html#future-remotely"><i class="fa fa-check"></i><b>7.2.3</b> Future remotely</a></li>
<li class="chapter" data-level="7.2.4" data-path="hpc.html"><a href="hpc.html#future-configuration"><i class="fa fa-check"></i><b>7.2.4</b> Future configuration</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="hpc.html"><a href="hpc.html#advanced"><i class="fa fa-check"></i><b>7.3</b> Advanced</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="cloud.html"><a href="cloud.html"><i class="fa fa-check"></i><b>8</b> Cloud integration</a>
<ul>
<li class="chapter" data-level="8.1" data-path="cloud.html"><a href="cloud.html#compute"><i class="fa fa-check"></i><b>8.1</b> Compute</a></li>
<li class="chapter" data-level="8.2" data-path="cloud.html"><a href="cloud.html#storage"><i class="fa fa-check"></i><b>8.2</b> Storage</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="cloud.html"><a href="cloud.html#get-started-with-the-amazon-s3-web-console"><i class="fa fa-check"></i><b>8.2.1</b> Get started with the Amazon S3 web console</a></li>
<li class="chapter" data-level="8.2.2" data-path="cloud.html"><a href="cloud.html#configure-your-local-machine"><i class="fa fa-check"></i><b>8.2.2</b> Configure your local machine</a></li>
<li class="chapter" data-level="8.2.3" data-path="cloud.html"><a href="cloud.html#create-s3-buckets"><i class="fa fa-check"></i><b>8.2.3</b> Create S3 buckets</a></li>
<li class="chapter" data-level="8.2.4" data-path="cloud.html"><a href="cloud.html#configure-the-pipeline"><i class="fa fa-check"></i><b>8.2.4</b> Configure the pipeline</a></li>
<li class="chapter" data-level="8.2.5" data-path="cloud.html"><a href="cloud.html#run-the-pipeline-1"><i class="fa fa-check"></i><b>8.2.5</b> Run the pipeline</a></li>
<li class="chapter" data-level="8.2.6" data-path="cloud.html"><a href="cloud.html#manage-the-data"><i class="fa fa-check"></i><b>8.2.6</b> Manage the data</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The targets R Package User Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="static" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Static branching</h1>
<p>The <code>targets</code> packages supports shorthand to create large pipelines. Static branching creates batches of targets up front before the pipeline runs. Static branching is not designed for the kind of volume that <a href="dynamic.html#dynamic">dynamic branching</a> can handle, but it is more flexible when the targets are heterogeneous.</p>
<div id="map" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Map</h2>
<p><a href="https://wlandau.github.io/tarchetypes/reference/tar_map.html"><code>tar_map()</code></a> from the <a href="https://github.com/wlandau/tarchetypes"><code>tarchetypes</code></a> package creates copies of existing target objects, where each new command is a variation on the original. In the example below, we have a data analysis workflow that iterates over datasets and analysis methods. The <code>values</code> data frame has the operational parameters of each data analysis, and <code>tar_map()</code> creates one new target per row.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="static.html#cb76-1" aria-hidden="true"></a><span class="co"># _targets.R file:</span></span>
<span id="cb76-2"><a href="static.html#cb76-2" aria-hidden="true"></a><span class="kw">library</span>(targets)</span>
<span id="cb76-3"><a href="static.html#cb76-3" aria-hidden="true"></a><span class="kw">library</span>(tarchetypes)</span>
<span id="cb76-4"><a href="static.html#cb76-4" aria-hidden="true"></a><span class="kw">library</span>(tibble)</span>
<span id="cb76-5"><a href="static.html#cb76-5" aria-hidden="true"></a>values &lt;-<span class="st"> </span><span class="kw">tibble</span>(</span>
<span id="cb76-6"><a href="static.html#cb76-6" aria-hidden="true"></a>  <span class="dt">method_function =</span> rlang<span class="op">::</span><span class="kw">syms</span>(<span class="kw">c</span>(<span class="st">&quot;method1&quot;</span>, <span class="st">&quot;method2&quot;</span>)),</span>
<span id="cb76-7"><a href="static.html#cb76-7" aria-hidden="true"></a>  <span class="dt">data_source =</span> <span class="kw">c</span>(<span class="st">&quot;NIH&quot;</span>, <span class="st">&quot;NIAID&quot;</span>)</span>
<span id="cb76-8"><a href="static.html#cb76-8" aria-hidden="true"></a>)</span>
<span id="cb76-9"><a href="static.html#cb76-9" aria-hidden="true"></a>targets &lt;-<span class="st"> </span><span class="kw">tar_map</span>(</span>
<span id="cb76-10"><a href="static.html#cb76-10" aria-hidden="true"></a>  <span class="dt">values =</span> values,</span>
<span id="cb76-11"><a href="static.html#cb76-11" aria-hidden="true"></a>  <span class="kw">tar_target</span>(analysis, <span class="kw">method_function</span>(data_source, <span class="dt">reps =</span> <span class="dv">10</span>)),</span>
<span id="cb76-12"><a href="static.html#cb76-12" aria-hidden="true"></a>  <span class="kw">tar_target</span>(summary, <span class="kw">summarize_analysis</span>(analysis, data_source))</span>
<span id="cb76-13"><a href="static.html#cb76-13" aria-hidden="true"></a>)</span>
<span id="cb76-14"><a href="static.html#cb76-14" aria-hidden="true"></a><span class="kw">tar_pipeline</span>(targets)</span></code></pre></div>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="static.html#cb77-1" aria-hidden="true"></a><span class="kw">tar_manifest</span>()</span>
<span id="cb77-2"><a href="static.html#cb77-2" aria-hidden="true"></a><span class="co">#&gt; # A tibble: 4 x 4</span></span>
<span id="cb77-3"><a href="static.html#cb77-3" aria-hidden="true"></a><span class="co">#&gt;   name               command                                    type  dimensions</span></span>
<span id="cb77-4"><a href="static.html#cb77-4" aria-hidden="true"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;chr&gt;                                      &lt;chr&gt; &lt;list&gt;    </span></span>
<span id="cb77-5"><a href="static.html#cb77-5" aria-hidden="true"></a><span class="co">#&gt; 1 analysis_method2_… &quot;method2(\&quot;NIAID\&quot;, reps = 10)&quot;            stem  &lt;chr [0]&gt; </span></span>
<span id="cb77-6"><a href="static.html#cb77-6" aria-hidden="true"></a><span class="co">#&gt; 2 summary_method1_N… &quot;summarize_analysis(analysis_method1_NIH,… stem  &lt;chr [0]&gt; </span></span>
<span id="cb77-7"><a href="static.html#cb77-7" aria-hidden="true"></a><span class="co">#&gt; 3 summary_method2_N… &quot;summarize_analysis(analysis_method2_NIAI… stem  &lt;chr [0]&gt; </span></span>
<span id="cb77-8"><a href="static.html#cb77-8" aria-hidden="true"></a><span class="co">#&gt; 4 analysis_method1_… &quot;method1(\&quot;NIH\&quot;, reps = 10)&quot;              stem  &lt;chr [0]&gt;</span></span></code></pre></div>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="static.html#cb78-1" aria-hidden="true"></a><span class="kw">tar_visnetwork</span>(<span class="dt">targets_only =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><div id="htmlwidget-ee983f9857b58a83cb7a" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-ee983f9857b58a83cb7a">{"x":{"nodes":{"name":["analysis_method1_NIH","analysis_method2_NIAID","summary_method1_NIH","summary_method2_NIAID"],"type":["stem","stem","stem","stem"],"status":["outdated","outdated","outdated","outdated"],"seconds":[null,null,null,null],"bytes":[null,null,null,null],"branches":[null,null,null,null],"id":["analysis_method1_NIH","analysis_method2_NIAID","summary_method1_NIH","summary_method2_NIAID"],"label":["analysis_method1_NIH","analysis_method2_NIAID","summary_method1_NIH","summary_method2_NIAID"],"font.size":[20,20,20,20],"level":[1,1,2,2],"color":["#5BBCD6","#5BBCD6","#5BBCD6","#5BBCD6"],"shape":["dot","dot","dot","dot"]},"edges":{"from":["analysis_method1_NIH","analysis_method2_NIAID"],"to":["summary_method1_NIH","summary_method2_NIAID"],"arrows":["to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":{"type":"cubicBezier","forceDirection":"horizontal"}},"layout":{"hierarchical":{"enabled":true,"direction":"LR"}}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":{"text":"","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":true,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.2,"useGroups":false,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true,"nodes":{"label":["Outdated","Stem"],"color":["#5BBCD6","#899DA4"],"shape":["dot","dot"],"font.size":[20,20]},"nodesToDataframe":true}},"evals":[],"jsHooks":[]}</script>
For shorter target names, use the <code>names</code> argument of <code>tar_map()</code>. And for more combinations of settings, use <code>tidyr::expand_grid()</code> on <code>values</code>.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="static.html#cb79-1" aria-hidden="true"></a><span class="co"># _targets.R file:</span></span>
<span id="cb79-2"><a href="static.html#cb79-2" aria-hidden="true"></a><span class="kw">library</span>(targets)</span>
<span id="cb79-3"><a href="static.html#cb79-3" aria-hidden="true"></a><span class="kw">library</span>(tarchetypes)</span>
<span id="cb79-4"><a href="static.html#cb79-4" aria-hidden="true"></a><span class="kw">library</span>(tidyr)</span>
<span id="cb79-5"><a href="static.html#cb79-5" aria-hidden="true"></a>values &lt;-<span class="st"> </span><span class="kw">expand_grid</span>( <span class="co"># Use all possible combinations of input settings.</span></span>
<span id="cb79-6"><a href="static.html#cb79-6" aria-hidden="true"></a>  <span class="dt">method_function =</span> rlang<span class="op">::</span><span class="kw">syms</span>(<span class="kw">c</span>(<span class="st">&quot;method1&quot;</span>, <span class="st">&quot;method2&quot;</span>)),</span>
<span id="cb79-7"><a href="static.html#cb79-7" aria-hidden="true"></a>  <span class="dt">data_source =</span> <span class="kw">c</span>(<span class="st">&quot;NIH&quot;</span>, <span class="st">&quot;NIAID&quot;</span>)</span>
<span id="cb79-8"><a href="static.html#cb79-8" aria-hidden="true"></a>)</span>
<span id="cb79-9"><a href="static.html#cb79-9" aria-hidden="true"></a>targets &lt;-<span class="st"> </span><span class="kw">tar_map</span>(</span>
<span id="cb79-10"><a href="static.html#cb79-10" aria-hidden="true"></a>  <span class="dt">values =</span> values,</span>
<span id="cb79-11"><a href="static.html#cb79-11" aria-hidden="true"></a>  <span class="dt">names =</span> <span class="st">&quot;data_source&quot;</span>, <span class="co"># Select columns from `values` for target names.</span></span>
<span id="cb79-12"><a href="static.html#cb79-12" aria-hidden="true"></a>  <span class="kw">tar_target</span>(analysis, <span class="kw">method_function</span>(data_source, <span class="dt">reps =</span> <span class="dv">10</span>)),</span>
<span id="cb79-13"><a href="static.html#cb79-13" aria-hidden="true"></a>  <span class="kw">tar_target</span>(summary, <span class="kw">summarize_analysis</span>(analysis, data_source))</span>
<span id="cb79-14"><a href="static.html#cb79-14" aria-hidden="true"></a>)</span>
<span id="cb79-15"><a href="static.html#cb79-15" aria-hidden="true"></a><span class="kw">tar_pipeline</span>(targets)</span></code></pre></div>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="static.html#cb80-1" aria-hidden="true"></a><span class="kw">tar_manifest</span>()</span>
<span id="cb80-2"><a href="static.html#cb80-2" aria-hidden="true"></a><span class="co">#&gt; # A tibble: 8 x 4</span></span>
<span id="cb80-3"><a href="static.html#cb80-3" aria-hidden="true"></a><span class="co">#&gt;   name            command                                       type  dimensions</span></span>
<span id="cb80-4"><a href="static.html#cb80-4" aria-hidden="true"></a><span class="co">#&gt;   &lt;chr&gt;           &lt;chr&gt;                                         &lt;chr&gt; &lt;list&gt;    </span></span>
<span id="cb80-5"><a href="static.html#cb80-5" aria-hidden="true"></a><span class="co">#&gt; 1 analysis_NIAID… &quot;method2(\&quot;NIAID\&quot;, reps = 10)&quot;               stem  &lt;chr [0]&gt; </span></span>
<span id="cb80-6"><a href="static.html#cb80-6" aria-hidden="true"></a><span class="co">#&gt; 2 summary_NIAID   &quot;summarize_analysis(analysis_NIAID, \&quot;NIAID\… stem  &lt;chr [0]&gt; </span></span>
<span id="cb80-7"><a href="static.html#cb80-7" aria-hidden="true"></a><span class="co">#&gt; 3 summary_NIH_1   &quot;summarize_analysis(analysis_NIH_1, \&quot;NIH\&quot;)&quot; stem  &lt;chr [0]&gt; </span></span>
<span id="cb80-8"><a href="static.html#cb80-8" aria-hidden="true"></a><span class="co">#&gt; 4 analysis_NIH    &quot;method1(\&quot;NIH\&quot;, reps = 10)&quot;                 stem  &lt;chr [0]&gt; </span></span>
<span id="cb80-9"><a href="static.html#cb80-9" aria-hidden="true"></a><span class="co">#&gt; 5 summary_NIAID_1 &quot;summarize_analysis(analysis_NIAID_1, \&quot;NIAI… stem  &lt;chr [0]&gt; </span></span>
<span id="cb80-10"><a href="static.html#cb80-10" aria-hidden="true"></a><span class="co">#&gt; 6 analysis_NIAID  &quot;method1(\&quot;NIAID\&quot;, reps = 10)&quot;               stem  &lt;chr [0]&gt; </span></span>
<span id="cb80-11"><a href="static.html#cb80-11" aria-hidden="true"></a><span class="co">#&gt; 7 analysis_NIH_1  &quot;method2(\&quot;NIH\&quot;, reps = 10)&quot;                 stem  &lt;chr [0]&gt; </span></span>
<span id="cb80-12"><a href="static.html#cb80-12" aria-hidden="true"></a><span class="co">#&gt; 8 summary_NIH     &quot;summarize_analysis(analysis_NIH, \&quot;NIH\&quot;)&quot;   stem  &lt;chr [0]&gt;</span></span></code></pre></div>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="static.html#cb81-1" aria-hidden="true"></a><span class="co"># You may need to zoom out on this interactive graph to see all 8 targets.</span></span>
<span id="cb81-2"><a href="static.html#cb81-2" aria-hidden="true"></a><span class="kw">tar_visnetwork</span>(<span class="dt">targets_only =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<div id="htmlwidget-2726d8ada739af1b2f8a" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-2726d8ada739af1b2f8a">{"x":{"nodes":{"name":["analysis_NIAID","analysis_NIAID_1","analysis_NIH","analysis_NIH_1","summary_NIAID","summary_NIAID_1","summary_NIH","summary_NIH_1"],"type":["stem","stem","stem","stem","stem","stem","stem","stem"],"status":["outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated"],"seconds":[null,null,null,null,null,null,null,null],"bytes":[null,null,null,null,null,null,null,null],"branches":[null,null,null,null,null,null,null,null],"id":["analysis_NIAID","analysis_NIAID_1","analysis_NIH","analysis_NIH_1","summary_NIAID","summary_NIAID_1","summary_NIH","summary_NIH_1"],"label":["analysis_NIAID","analysis_NIAID_1","analysis_NIH","analysis_NIH_1","summary_NIAID","summary_NIAID_1","summary_NIH","summary_NIH_1"],"font.size":[20,20,20,20,20,20,20,20],"level":[1,1,1,1,2,2,2,2],"color":["#5BBCD6","#5BBCD6","#5BBCD6","#5BBCD6","#5BBCD6","#5BBCD6","#5BBCD6","#5BBCD6"],"shape":["dot","dot","dot","dot","dot","dot","dot","dot"]},"edges":{"from":["analysis_NIAID","analysis_NIH_1","analysis_NIAID_1","analysis_NIH"],"to":["summary_NIAID","summary_NIH_1","summary_NIAID_1","summary_NIH"],"arrows":["to","to","to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":{"type":"cubicBezier","forceDirection":"horizontal"}},"layout":{"hierarchical":{"enabled":true,"direction":"LR"}}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":{"text":"","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":true,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.2,"useGroups":false,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true,"nodes":{"label":["Outdated","Stem"],"color":["#5BBCD6","#899DA4"],"shape":["dot","dot"],"font.size":[20,20]},"nodesToDataframe":true}},"evals":[],"jsHooks":[]}</script>
<p>You can even combine together static and dynamic branching. The static <code>tar_map()</code> is an excellent outer layer on top of targets with patterns. The following is a sketch of a pipeline that runs each of two data analysis methods 10 times, once per random seed. Static branching iterates over the method functions, while dynamic branching iterates over the seeds. <code>tar_map()</code> creates new patterns as well as new commands. So below, the summary methods map over the analysis methods both statically and dynamically.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="static.html#cb82-1" aria-hidden="true"></a><span class="co"># _targets.R file:</span></span>
<span id="cb82-2"><a href="static.html#cb82-2" aria-hidden="true"></a><span class="kw">library</span>(targets)</span>
<span id="cb82-3"><a href="static.html#cb82-3" aria-hidden="true"></a><span class="kw">library</span>(tarchetypes)</span>
<span id="cb82-4"><a href="static.html#cb82-4" aria-hidden="true"></a><span class="kw">library</span>(tibble)</span>
<span id="cb82-5"><a href="static.html#cb82-5" aria-hidden="true"></a>random_seed &lt;-<span class="st"> </span><span class="kw">tar_target</span>(random_seed, <span class="kw">seq_len</span>(<span class="dv">10</span>))</span>
<span id="cb82-6"><a href="static.html#cb82-6" aria-hidden="true"></a>targets &lt;-<span class="st"> </span><span class="kw">tar_map</span>(</span>
<span id="cb82-7"><a href="static.html#cb82-7" aria-hidden="true"></a>  <span class="dt">values =</span> <span class="kw">tibble</span>(<span class="dt">method_function =</span> rlang<span class="op">::</span><span class="kw">syms</span>(<span class="kw">c</span>(<span class="st">&quot;method1&quot;</span>, <span class="st">&quot;method2&quot;</span>))),</span>
<span id="cb82-8"><a href="static.html#cb82-8" aria-hidden="true"></a>  <span class="kw">tar_target</span>(</span>
<span id="cb82-9"><a href="static.html#cb82-9" aria-hidden="true"></a>    analysis,</span>
<span id="cb82-10"><a href="static.html#cb82-10" aria-hidden="true"></a>    <span class="kw">method_function</span>(<span class="st">&quot;NIH&quot;</span>, <span class="dt">seed =</span> random_seed),</span>
<span id="cb82-11"><a href="static.html#cb82-11" aria-hidden="true"></a>    <span class="dt">pattern =</span> <span class="kw">map</span>(random_seed)</span>
<span id="cb82-12"><a href="static.html#cb82-12" aria-hidden="true"></a>  ),</span>
<span id="cb82-13"><a href="static.html#cb82-13" aria-hidden="true"></a>  <span class="kw">tar_target</span>(</span>
<span id="cb82-14"><a href="static.html#cb82-14" aria-hidden="true"></a>    summary,</span>
<span id="cb82-15"><a href="static.html#cb82-15" aria-hidden="true"></a>    <span class="kw">summarize_analysis</span>(analysis),</span>
<span id="cb82-16"><a href="static.html#cb82-16" aria-hidden="true"></a>    <span class="dt">pattern =</span> <span class="kw">map</span>(analysis)</span>
<span id="cb82-17"><a href="static.html#cb82-17" aria-hidden="true"></a>  )</span>
<span id="cb82-18"><a href="static.html#cb82-18" aria-hidden="true"></a>)</span>
<span id="cb82-19"><a href="static.html#cb82-19" aria-hidden="true"></a><span class="kw">tar_pipeline</span>(random_seed, targets)</span></code></pre></div>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="static.html#cb83-1" aria-hidden="true"></a><span class="kw">tar_manifest</span>() <span class="op">%&gt;%</span></span>
<span id="cb83-2"><a href="static.html#cb83-2" aria-hidden="true"></a><span class="st">  </span><span class="co"># &quot;dimensions&quot; has targets being dynamically mapped over:</span></span>
<span id="cb83-3"><a href="static.html#cb83-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">dimensions =</span> <span class="kw">as.character</span>(dimensions))</span>
<span id="cb83-4"><a href="static.html#cb83-4" aria-hidden="true"></a><span class="co">#&gt; # A tibble: 5 x 4</span></span>
<span id="cb83-5"><a href="static.html#cb83-5" aria-hidden="true"></a><span class="co">#&gt;   name             command                                type  dimensions      </span></span>
<span id="cb83-6"><a href="static.html#cb83-6" aria-hidden="true"></a><span class="co">#&gt;   &lt;chr&gt;            &lt;chr&gt;                                  &lt;chr&gt; &lt;chr&gt;           </span></span>
<span id="cb83-7"><a href="static.html#cb83-7" aria-hidden="true"></a><span class="co">#&gt; 1 analysis_method1 &quot;method1(\&quot;NIH\&quot;, seed = random_seed)&quot; map   random_seed     </span></span>
<span id="cb83-8"><a href="static.html#cb83-8" aria-hidden="true"></a><span class="co">#&gt; 2 analysis_method2 &quot;method2(\&quot;NIH\&quot;, seed = random_seed)&quot; map   random_seed     </span></span>
<span id="cb83-9"><a href="static.html#cb83-9" aria-hidden="true"></a><span class="co">#&gt; 3 random_seed      &quot;seq_len(10)&quot;                          stem  character(0)    </span></span>
<span id="cb83-10"><a href="static.html#cb83-10" aria-hidden="true"></a><span class="co">#&gt; 4 summary_method1  &quot;summarize_analysis(analysis_method1)&quot; map   analysis_method1</span></span>
<span id="cb83-11"><a href="static.html#cb83-11" aria-hidden="true"></a><span class="co">#&gt; 5 summary_method2  &quot;summarize_analysis(analysis_method2)&quot; map   analysis_method2</span></span></code></pre></div>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="static.html#cb84-1" aria-hidden="true"></a><span class="kw">tar_visnetwork</span>(<span class="dt">targets_only =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<div id="htmlwidget-abc3afb1e503164a8bb3" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-abc3afb1e503164a8bb3">{"x":{"nodes":{"name":["analysis_method1","analysis_method2","random_seed","summary_method1","summary_method2"],"type":["map","map","stem","map","map"],"status":["outdated","outdated","outdated","outdated","outdated"],"seconds":[null,null,null,null,null],"bytes":[null,null,null,null,null],"branches":[null,null,null,null,null],"id":["analysis_method1","analysis_method2","random_seed","summary_method1","summary_method2"],"label":["analysis_method1","analysis_method2","random_seed","summary_method1","summary_method2"],"font.size":[20,20,20,20,20],"level":[2,2,1,3,3],"color":["#5BBCD6","#5BBCD6","#5BBCD6","#5BBCD6","#5BBCD6"],"shape":["square","square","dot","square","square"]},"edges":{"from":["random_seed","random_seed","analysis_method1","analysis_method2"],"to":["analysis_method1","analysis_method2","summary_method1","summary_method2"],"arrows":["to","to","to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":{"type":"cubicBezier","forceDirection":"horizontal"}},"layout":{"hierarchical":{"enabled":true,"direction":"LR"}}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":{"text":"","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":true,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.2,"useGroups":false,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true,"nodes":{"label":["Outdated","Map","Stem"],"color":["#5BBCD6","#899DA4","#899DA4"],"shape":["dot","square","dot"],"font.size":[20,20,20]},"nodesToDataframe":true}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="combine" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Combine</h2>
<p><a href="https://wlandau.github.io/tarchetypes/reference/tar_combine.html"><code>tar_combine()</code></a> from the <a href="https://github.com/wlandau/tarchetypes"><code>tarchetypes</code></a> package creates a new target to aggregate the results of upstream targets. In the simple example below, our combined target simply aggregates the rows returned from two other targets.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="static.html#cb85-1" aria-hidden="true"></a><span class="co"># _targets.R file:</span></span>
<span id="cb85-2"><a href="static.html#cb85-2" aria-hidden="true"></a><span class="kw">library</span>(targets)</span>
<span id="cb85-3"><a href="static.html#cb85-3" aria-hidden="true"></a><span class="kw">library</span>(tarchetypes)</span>
<span id="cb85-4"><a href="static.html#cb85-4" aria-hidden="true"></a><span class="kw">library</span>(tibble)</span>
<span id="cb85-5"><a href="static.html#cb85-5" aria-hidden="true"></a><span class="kw">options</span>(<span class="dt">crayon.enabled =</span> <span class="ot">FALSE</span>)</span>
<span id="cb85-6"><a href="static.html#cb85-6" aria-hidden="true"></a>target1 &lt;-<span class="st"> </span><span class="kw">tar_target</span>(head, <span class="kw">head</span>(mtcars, <span class="dv">1</span>))</span>
<span id="cb85-7"><a href="static.html#cb85-7" aria-hidden="true"></a>target2 &lt;-<span class="st"> </span><span class="kw">tar_target</span>(tail, <span class="kw">tail</span>(mtcars, <span class="dv">1</span>))</span>
<span id="cb85-8"><a href="static.html#cb85-8" aria-hidden="true"></a>target3 &lt;-<span class="st"> </span><span class="kw">tar_combine</span>(combined_target, target1, target2)</span>
<span id="cb85-9"><a href="static.html#cb85-9" aria-hidden="true"></a><span class="kw">tar_pipeline</span>(target1, target2, target3)</span></code></pre></div>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="static.html#cb86-1" aria-hidden="true"></a><span class="kw">tar_manifest</span>()</span>
<span id="cb86-2"><a href="static.html#cb86-2" aria-hidden="true"></a><span class="co">#&gt; # A tibble: 3 x 4</span></span>
<span id="cb86-3"><a href="static.html#cb86-3" aria-hidden="true"></a><span class="co">#&gt;   name         command                                          type  dimensions</span></span>
<span id="cb86-4"><a href="static.html#cb86-4" aria-hidden="true"></a><span class="co">#&gt;   &lt;chr&gt;        &lt;chr&gt;                                            &lt;chr&gt; &lt;list&gt;    </span></span>
<span id="cb86-5"><a href="static.html#cb86-5" aria-hidden="true"></a><span class="co">#&gt; 1 combined_ta… vctrs::vec_c(head_mtcars = head_mtcars, tail_mt… stem  &lt;chr [0]&gt; </span></span>
<span id="cb86-6"><a href="static.html#cb86-6" aria-hidden="true"></a><span class="co">#&gt; 2 tail_mtcars  tail(mtcars, 1)                                  stem  &lt;chr [0]&gt; </span></span>
<span id="cb86-7"><a href="static.html#cb86-7" aria-hidden="true"></a><span class="co">#&gt; 3 head_mtcars  head(mtcars, 1)                                  stem  &lt;chr [0]&gt;</span></span></code></pre></div>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="static.html#cb87-1" aria-hidden="true"></a><span class="kw">tar_visnetwork</span>(<span class="dt">targets_only =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<div id="htmlwidget-aff43bef328ad1736c4f" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-aff43bef328ad1736c4f">{"x":{"nodes":{"name":["combined_target","head_mtcars","tail_mtcars"],"type":["stem","stem","stem"],"status":["outdated","outdated","outdated"],"seconds":[null,null,null],"bytes":[null,null,null],"branches":[null,null,null],"id":["combined_target","head_mtcars","tail_mtcars"],"label":["combined_target","head_mtcars","tail_mtcars"],"font.size":[20,20,20],"level":[2,1,1],"color":["#5BBCD6","#5BBCD6","#5BBCD6"],"shape":["dot","dot","dot"]},"edges":{"from":["head_mtcars","tail_mtcars"],"to":["combined_target","combined_target"],"arrows":["to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":{"type":"cubicBezier","forceDirection":"horizontal"}},"layout":{"hierarchical":{"enabled":true,"direction":"LR"}}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":{"text":"","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":true,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.2,"useGroups":false,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true,"nodes":{"label":["Outdated","Stem"],"color":["#5BBCD6","#899DA4"],"shape":["dot","dot"],"font.size":[20,20]},"nodesToDataframe":true}},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="static.html#cb88-1" aria-hidden="true"></a><span class="kw">tar_make</span>()</span>
<span id="cb88-2"><a href="static.html#cb88-2" aria-hidden="true"></a><span class="co">#&gt; ● run target head_mtcars</span></span>
<span id="cb88-3"><a href="static.html#cb88-3" aria-hidden="true"></a><span class="co">#&gt; ● run target tail_mtcars</span></span>
<span id="cb88-4"><a href="static.html#cb88-4" aria-hidden="true"></a><span class="co">#&gt; ● run target combined_target</span></span></code></pre></div>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="static.html#cb89-1" aria-hidden="true"></a><span class="kw">tar_read</span>(combined_target)</span>
<span id="cb89-2"><a href="static.html#cb89-2" aria-hidden="true"></a><span class="co">#&gt;             mpg cyl disp  hp drat   wt  qsec vs am gear carb</span></span>
<span id="cb89-3"><a href="static.html#cb89-3" aria-hidden="true"></a><span class="co">#&gt; Mazda RX4  21.0   6  160 110 3.90 2.62 16.46  0  1    4    4</span></span>
<span id="cb89-4"><a href="static.html#cb89-4" aria-hidden="true"></a><span class="co">#&gt; Volvo 142E 21.4   4  121 109 4.11 2.78 18.60  1  1    4    2</span></span></code></pre></div>
<p>To use <code>tar_combine()</code> and <code>tar_map()</code> together in more complicated situations, you may need to supply <code>unlist = FALSE</code> to <code>tar_map()</code>. That way, <code>tar_map()</code> will return a nested list of target objects, and you can combine the ones you want. The pipeline extends our previous <code>tar_map()</code> example by combining just the summaries, omitting the analyses from <code>tar_combine()</code>. Also note the use of <code>bind_rows(!!!.x)</code> below. This is how you supply custom code to combine the return values of other targets. <code>.x</code> is a placeholder for the return values, and <code>!!!</code> is the “unquote-splice” operator from the <code>rlang</code> package.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="static.html#cb90-1" aria-hidden="true"></a><span class="co"># _targets.R file:</span></span>
<span id="cb90-2"><a href="static.html#cb90-2" aria-hidden="true"></a><span class="kw">library</span>(targets)</span>
<span id="cb90-3"><a href="static.html#cb90-3" aria-hidden="true"></a><span class="kw">library</span>(tarchetypes)</span>
<span id="cb90-4"><a href="static.html#cb90-4" aria-hidden="true"></a><span class="kw">library</span>(tibble)</span>
<span id="cb90-5"><a href="static.html#cb90-5" aria-hidden="true"></a>random_seed &lt;-<span class="st"> </span><span class="kw">tar_target</span>(random_seed, <span class="kw">seq_len</span>(<span class="dv">10</span>))</span>
<span id="cb90-6"><a href="static.html#cb90-6" aria-hidden="true"></a>mapped &lt;-<span class="st"> </span><span class="kw">tar_map</span>(</span>
<span id="cb90-7"><a href="static.html#cb90-7" aria-hidden="true"></a>  <span class="dt">unlist =</span> <span class="ot">FALSE</span>, <span class="co"># Return a nested list from tar_map()</span></span>
<span id="cb90-8"><a href="static.html#cb90-8" aria-hidden="true"></a>  <span class="dt">values =</span> <span class="kw">tibble</span>(<span class="dt">method_function =</span> rlang<span class="op">::</span><span class="kw">syms</span>(<span class="kw">c</span>(<span class="st">&quot;method1&quot;</span>, <span class="st">&quot;method2&quot;</span>))),</span>
<span id="cb90-9"><a href="static.html#cb90-9" aria-hidden="true"></a>  <span class="kw">tar_target</span>(</span>
<span id="cb90-10"><a href="static.html#cb90-10" aria-hidden="true"></a>    analysis,</span>
<span id="cb90-11"><a href="static.html#cb90-11" aria-hidden="true"></a>    <span class="kw">method_function</span>(<span class="st">&quot;NIH&quot;</span>, <span class="dt">seed =</span> random_seed),</span>
<span id="cb90-12"><a href="static.html#cb90-12" aria-hidden="true"></a>    <span class="dt">pattern =</span> <span class="kw">map</span>(random_seed)</span>
<span id="cb90-13"><a href="static.html#cb90-13" aria-hidden="true"></a>  ),</span>
<span id="cb90-14"><a href="static.html#cb90-14" aria-hidden="true"></a>  <span class="kw">tar_target</span>(</span>
<span id="cb90-15"><a href="static.html#cb90-15" aria-hidden="true"></a>    summary,</span>
<span id="cb90-16"><a href="static.html#cb90-16" aria-hidden="true"></a>    <span class="kw">summarize_analysis</span>(analysis),</span>
<span id="cb90-17"><a href="static.html#cb90-17" aria-hidden="true"></a>    <span class="dt">pattern =</span> <span class="kw">map</span>(analysis)</span>
<span id="cb90-18"><a href="static.html#cb90-18" aria-hidden="true"></a>  )</span>
<span id="cb90-19"><a href="static.html#cb90-19" aria-hidden="true"></a>)</span>
<span id="cb90-20"><a href="static.html#cb90-20" aria-hidden="true"></a>combined &lt;-<span class="st"> </span><span class="kw">tar_combine</span>(</span>
<span id="cb90-21"><a href="static.html#cb90-21" aria-hidden="true"></a>  combined_summaries,</span>
<span id="cb90-22"><a href="static.html#cb90-22" aria-hidden="true"></a>  mapped[[<span class="dv">2</span>]],</span>
<span id="cb90-23"><a href="static.html#cb90-23" aria-hidden="true"></a>  <span class="dt">command =</span> dplyr<span class="op">::</span><span class="kw">bind_rows</span>(<span class="op">!!!</span>.x, <span class="dt">.id =</span> <span class="st">&quot;method&quot;</span>)</span>
<span id="cb90-24"><a href="static.html#cb90-24" aria-hidden="true"></a>)</span>
<span id="cb90-25"><a href="static.html#cb90-25" aria-hidden="true"></a><span class="kw">tar_pipeline</span>(random_seed, mapped, combined)</span></code></pre></div>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="static.html#cb91-1" aria-hidden="true"></a><span class="kw">tar_manifest</span>() <span class="op">%&gt;%</span></span>
<span id="cb91-2"><a href="static.html#cb91-2" aria-hidden="true"></a><span class="st">  </span><span class="co"># &quot;dimensions&quot; has targets being dynamically mapped over:</span></span>
<span id="cb91-3"><a href="static.html#cb91-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">dimensions =</span> <span class="kw">as.character</span>(dimensions))</span>
<span id="cb91-4"><a href="static.html#cb91-4" aria-hidden="true"></a><span class="co">#&gt; # A tibble: 6 x 4</span></span>
<span id="cb91-5"><a href="static.html#cb91-5" aria-hidden="true"></a><span class="co">#&gt;   name         command                                       type  dimensions   </span></span>
<span id="cb91-6"><a href="static.html#cb91-6" aria-hidden="true"></a><span class="co">#&gt;   &lt;chr&gt;        &lt;chr&gt;                                         &lt;chr&gt; &lt;chr&gt;        </span></span>
<span id="cb91-7"><a href="static.html#cb91-7" aria-hidden="true"></a><span class="co">#&gt; 1 analysis_me… &quot;method1(\&quot;NIH\&quot;, seed = random_seed)&quot;        map   random_seed  </span></span>
<span id="cb91-8"><a href="static.html#cb91-8" aria-hidden="true"></a><span class="co">#&gt; 2 analysis_me… &quot;method2(\&quot;NIH\&quot;, seed = random_seed)&quot;        map   random_seed  </span></span>
<span id="cb91-9"><a href="static.html#cb91-9" aria-hidden="true"></a><span class="co">#&gt; 3 combined_su… &quot;dplyr::bind_rows(summary_method1 = summary_… stem  character(0) </span></span>
<span id="cb91-10"><a href="static.html#cb91-10" aria-hidden="true"></a><span class="co">#&gt; 4 random_seed  &quot;seq_len(10)&quot;                                 stem  character(0) </span></span>
<span id="cb91-11"><a href="static.html#cb91-11" aria-hidden="true"></a><span class="co">#&gt; 5 summary_met… &quot;summarize_analysis(analysis_method1)&quot;        map   analysis_met…</span></span>
<span id="cb91-12"><a href="static.html#cb91-12" aria-hidden="true"></a><span class="co">#&gt; 6 summary_met… &quot;summarize_analysis(analysis_method2)&quot;        map   analysis_met…</span></span></code></pre></div>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="static.html#cb92-1" aria-hidden="true"></a><span class="kw">tar_visnetwork</span>(<span class="dt">targets_only =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<div id="htmlwidget-80d1ab2f682954ff5c78" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-80d1ab2f682954ff5c78">{"x":{"nodes":{"name":["analysis_method1","analysis_method2","combined_summaries","random_seed","summary_method1","summary_method2"],"type":["map","map","stem","stem","map","map"],"status":["outdated","outdated","outdated","outdated","outdated","outdated"],"seconds":[null,null,null,null,null,null],"bytes":[null,null,null,null,null,null],"branches":[null,null,null,null,null,null],"id":["analysis_method1","analysis_method2","combined_summaries","random_seed","summary_method1","summary_method2"],"label":["analysis_method1","analysis_method2","combined_summaries","random_seed","summary_method1","summary_method2"],"font.size":[20,20,20,20,20,20],"level":[2,2,4,1,3,3],"color":["#5BBCD6","#5BBCD6","#5BBCD6","#5BBCD6","#5BBCD6","#5BBCD6"],"shape":["square","square","dot","dot","square","square"]},"edges":{"from":["random_seed","random_seed","summary_method1","summary_method2","analysis_method1","analysis_method2"],"to":["analysis_method1","analysis_method2","combined_summaries","combined_summaries","summary_method1","summary_method2"],"arrows":["to","to","to","to","to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":{"type":"cubicBezier","forceDirection":"horizontal"}},"layout":{"hierarchical":{"enabled":true,"direction":"LR"}}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":{"text":"","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":true,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.2,"useGroups":false,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true,"nodes":{"label":["Outdated","Map","Stem"],"color":["#5BBCD6","#899DA4","#899DA4"],"shape":["dot","square","dot"],"font.size":[20,20,20]},"nodesToDataframe":true}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="metaprogram" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Metaprogram</h2>
<p>Custom metaprogramming is an alternative to built-in branching for large collections of targets. Metaprogramming can help you understand of the targets you start with, create informative target names, and construct complicated pipelines when layered on top of patterns.</p>
<p>In the example below, we define a target for each data source in a mock workflow. We use <code>tar_target_raw()</code> instead of <code>tar_target()</code> to avoid the non-standard evaluation, which lets us supply target names, expressions, and pattern specifications programmatically.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="static.html#cb93-1" aria-hidden="true"></a><span class="kw">tar_script</span>({</span>
<span id="cb93-2"><a href="static.html#cb93-2" aria-hidden="true"></a>  <span class="kw">suppressPackageStartupMessages</span>(<span class="kw">library</span>(purrr))</span>
<span id="cb93-3"><a href="static.html#cb93-3" aria-hidden="true"></a>  datasets &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;gapminder&quot;</span>, <span class="st">&quot;who&quot;</span>, <span class="st">&quot;imf&quot;</span>)</span>
<span id="cb93-4"><a href="static.html#cb93-4" aria-hidden="true"></a>  data_target_list &lt;-<span class="st"> </span><span class="kw">map</span>(</span>
<span id="cb93-5"><a href="static.html#cb93-5" aria-hidden="true"></a>    datasets,</span>
<span id="cb93-6"><a href="static.html#cb93-6" aria-hidden="true"></a>    <span class="op">~</span><span class="kw">tar_target_raw</span>(.x, <span class="kw">substitute</span>(<span class="kw">get_data</span>(x), <span class="dt">env =</span> <span class="kw">list</span>(<span class="dt">x =</span> .x)))</span>
<span id="cb93-7"><a href="static.html#cb93-7" aria-hidden="true"></a>  )</span>
<span id="cb93-8"><a href="static.html#cb93-8" aria-hidden="true"></a>  <span class="kw">tar_pipeline</span>(data_target_list)</span>
<span id="cb93-9"><a href="static.html#cb93-9" aria-hidden="true"></a>})</span></code></pre></div>
<p><code>tar_manifest()</code> is especially important for checking the correctness of your metaprogramming.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="static.html#cb94-1" aria-hidden="true"></a><span class="kw">tar_manifest</span>(<span class="dt">fields =</span> <span class="st">&quot;command&quot;</span>)</span>
<span id="cb94-2"><a href="static.html#cb94-2" aria-hidden="true"></a><span class="co">#&gt; # A tibble: 3 x 2</span></span>
<span id="cb94-3"><a href="static.html#cb94-3" aria-hidden="true"></a><span class="co">#&gt;   name      command                  </span></span>
<span id="cb94-4"><a href="static.html#cb94-4" aria-hidden="true"></a><span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt;                    </span></span>
<span id="cb94-5"><a href="static.html#cb94-5" aria-hidden="true"></a><span class="co">#&gt; 1 imf       &quot;get_data(\&quot;imf\&quot;)&quot;      </span></span>
<span id="cb94-6"><a href="static.html#cb94-6" aria-hidden="true"></a><span class="co">#&gt; 2 gapminder &quot;get_data(\&quot;gapminder\&quot;)&quot;</span></span>
<span id="cb94-7"><a href="static.html#cb94-7" aria-hidden="true"></a><span class="co">#&gt; 3 who       &quot;get_data(\&quot;who\&quot;)&quot;</span></span></code></pre></div>
<p>We can define symbols with <code>rlang::sym()</code> and insert them into expressions with <code>substitute()</code>. It is straightforward to define entire chains of targets this way. The example below demonstrates how to work with symbols and use metaprogramming and patterns simultaneously.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="static.html#cb95-1" aria-hidden="true"></a><span class="kw">tar_script</span>({</span>
<span id="cb95-2"><a href="static.html#cb95-2" aria-hidden="true"></a>  <span class="kw">suppressPackageStartupMessages</span>(<span class="kw">library</span>(purrr))</span>
<span id="cb95-3"><a href="static.html#cb95-3" aria-hidden="true"></a>  <span class="kw">suppressPackageStartupMessages</span>(<span class="kw">library</span>(rlang))</span>
<span id="cb95-4"><a href="static.html#cb95-4" aria-hidden="true"></a>  target_a &lt;-<span class="st"> </span><span class="kw">tar_target</span>(a, <span class="kw">seq_len</span>(<span class="dv">2</span>))</span>
<span id="cb95-5"><a href="static.html#cb95-5" aria-hidden="true"></a>  target_list &lt;-<span class="st"> </span><span class="kw">map</span>(</span>
<span id="cb95-6"><a href="static.html#cb95-6" aria-hidden="true"></a>    <span class="kw">seq</span>(<span class="dv">2</span>, <span class="dv">4</span>),</span>
<span id="cb95-7"><a href="static.html#cb95-7" aria-hidden="true"></a>    <span class="op">~</span><span class="kw">tar_target_raw</span>(</span>
<span id="cb95-8"><a href="static.html#cb95-8" aria-hidden="true"></a>      letters[.x],</span>
<span id="cb95-9"><a href="static.html#cb95-9" aria-hidden="true"></a>      <span class="kw">substitute</span>(<span class="kw">identity</span>(y), <span class="dt">env =</span> <span class="kw">list</span>(<span class="dt">y =</span> <span class="kw">sym</span>(letters[.x <span class="op">-</span><span class="st"> </span><span class="dv">1</span>]))),</span>
<span id="cb95-10"><a href="static.html#cb95-10" aria-hidden="true"></a>      <span class="dt">pattern =</span> <span class="kw">substitute</span>(<span class="kw">map</span>(y), <span class="dt">env =</span> <span class="kw">list</span>(<span class="dt">y =</span> <span class="kw">sym</span>(letters[.x <span class="op">-</span><span class="st"> </span><span class="dv">1</span>])))</span>
<span id="cb95-11"><a href="static.html#cb95-11" aria-hidden="true"></a>    )</span>
<span id="cb95-12"><a href="static.html#cb95-12" aria-hidden="true"></a>  )</span>
<span id="cb95-13"><a href="static.html#cb95-13" aria-hidden="true"></a>  <span class="kw">tar_pipeline</span>(target_a, target_list)</span>
<span id="cb95-14"><a href="static.html#cb95-14" aria-hidden="true"></a>})</span></code></pre></div>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="static.html#cb96-1" aria-hidden="true"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb96-2"><a href="static.html#cb96-2" aria-hidden="true"></a><span class="kw">tar_manifest</span>() <span class="op">%&gt;%</span></span>
<span id="cb96-3"><a href="static.html#cb96-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">dimensions =</span> <span class="kw">as.character</span>(dimensions))</span>
<span id="cb96-4"><a href="static.html#cb96-4" aria-hidden="true"></a><span class="co">#&gt; # A tibble: 4 x 4</span></span>
<span id="cb96-5"><a href="static.html#cb96-5" aria-hidden="true"></a><span class="co">#&gt;   name  command     type  dimensions  </span></span>
<span id="cb96-6"><a href="static.html#cb96-6" aria-hidden="true"></a><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;       </span></span>
<span id="cb96-7"><a href="static.html#cb96-7" aria-hidden="true"></a><span class="co">#&gt; 1 a     seq_len(2)  stem  character(0)</span></span>
<span id="cb96-8"><a href="static.html#cb96-8" aria-hidden="true"></a><span class="co">#&gt; 2 b     identity(a) map   a           </span></span>
<span id="cb96-9"><a href="static.html#cb96-9" aria-hidden="true"></a><span class="co">#&gt; 3 c     identity(b) map   b           </span></span>
<span id="cb96-10"><a href="static.html#cb96-10" aria-hidden="true"></a><span class="co">#&gt; 4 d     identity(c) map   c</span></span></code></pre></div>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="static.html#cb97-1" aria-hidden="true"></a><span class="kw">tar_glimpse</span>()</span></code></pre></div>
<div id="htmlwidget-a435970fb60be15cbf85" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-a435970fb60be15cbf85">{"x":{"nodes":{"name":["a","b","c","d"],"type":["stem","map","map","map"],"status":["undefined","undefined","undefined","undefined"],"seconds":[null,null,null,null],"bytes":[null,null,null,null],"branches":[null,null,null,null],"id":["a","b","c","d"],"label":["a","b","c","d"],"font.size":[20,20,20,20],"level":[1,2,3,4],"color":["#899DA4","#899DA4","#899DA4","#899DA4"],"shape":["dot","square","square","square"]},"edges":{"from":["a","b","c"],"to":["b","c","d"],"arrows":["to","to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":{"type":"cubicBezier","forceDirection":"horizontal"}},"layout":{"hierarchical":{"enabled":true,"direction":"LR"}}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":{"text":"","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":true,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.2,"useGroups":false,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true,"nodes":{"label":["Stem","Map"],"shape":["dot","square"],"color":["#899DA4","#899DA4"],"font.size":[20,20]},"nodesToDataframe":true}},"evals":[],"jsHooks":[]}</script>

</div>
</div>
<div style = "background: #1C356D; color: white; padding: 10px 10px 10px 25px; font-size: 1em; width: 100%;">
  Copyright Eli Lilly and Company
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dynamic.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="hpc.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
